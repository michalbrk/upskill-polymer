<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-button-group/paper-button-group.html"/>

<dom-module id="poly-todo-header">
    <template>
        <style>
            paper-button[active]
        </style>
        
        <paper-button-group id="group" selected="incomplete" selected-item="{{selectedButton}}" attr-for-selected="data-filter">
            <paper-button data-filter="all">All</paper-button>
            <paper-button data-filter="incomplete">Incomplete</paper-button>
            <paper-button data-filter="complete">Complete</paper-button>
        </paper-button-group>
    </template>

    <script>
        const filters = {
            all: () => true,
            incomplete: todo => todo.complete === false,
            complete: todo => todo.complete === true
        };

        class PolyTodoHeader extends Polymer.Element {
            static get is() {
                return 'poly-todo-header';
            }
            
            static get properties() {
                return {
                    filter: {
                        notfiy: true,
                        computed: '_getFilter(seletedButton)'
                    }
                };
            }
            
            _getFilter(button) {
                let option = 'all';
                if(button) {
                    option = this.$.group.selected
                }
                return filters[option]
            }
        }

        window.customElements.define(PolyTodoHeader.is, PolyTodoHeader);
    </script>
</dom-module>
